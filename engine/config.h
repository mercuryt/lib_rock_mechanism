#pragma once

#include "types.h"
#include "index.h"
#include <cmath>
#include <cstdint>
#include <fstream>
namespace Config
{
	//inline uint32_t medicalPriority;
	//inline uint32_t medicalProjectDelaySteps;
	//
	// sort command for vim:
	// 	sort /\t/w* /w* /w* /
	// TODO: interval should be type Step but I don't know how to make it work with constexpr.
	inline constexpr uint actorDoVisionInterval = 3;
	inline constexpr bool fluidPiston = false;
	inline constexpr float dataStoreVectorResizeFactor = 1.5;
	inline constexpr float dataStoreVectorInitalSize = 10;
	inline constexpr int maxActorsPerBlock = 4;
	inline constexpr int maxItemsPerBlock = 4;
	inline constexpr float goldenRatio = 1.61834f;
	inline constexpr DistanceInBlocks maxDepthExteriorPortalPenetration = DistanceInBlocks::create(6);

	// sort command for vim:
	// 	sort /\t/w* /w* /
	inline Step addToStockPileDelaySteps;
	inline float adjacentAllyCombatScoreBonusModifier;
	inline uint32_t attackCoolDownDurationBaseDextarity;
	inline Step attackCoolDownDurationBaseSteps;
	inline float attackSkillCombatModifier;
	inline Quality averageItemQuality;
	inline size_t averageLandHeightBlocks;
	inline float averageNumberOfRiversPerCandidate;
	inline Step baseHealDelaySteps;
	inline MoveCost baseMoveCost;
	inline Step bleedEventBaseFrequency;
	inline Step bleedPassOutDuration;
	inline float bleedToDeathRatio;
	inline float bleedToUnconciousessRatio;
	inline float blocksPerMeter;
	inline uint32_t bludgeonBleedVoumeRateModifier;
	inline uint32_t bludgeonPercentPermanantImparmentModifier;
	inline uint32_t bludgeonPercentTemporaryImparmentModifier;
	inline uint32_t bludgeonStepsTillHealedModifier;
	inline float bodyHardnessModifier;
	inline float chanceToWaitInsteadOfWander;
	inline Priority constructObjectivePriority;
	inline float constructSkillModifier;
	inline float constructStrengthModifier;
	inline Priority craftObjectivePriority;
	inline uint32_t cutBleedVoumeRateModifier;
	inline uint32_t cutPercentPermanantImparmentModifier;
	inline uint32_t cutPercentTemporaryImparmentModifier;
	inline uint32_t cutStepsTillHealedModifier;
	inline uint16_t daysPerYear;
	inline Temperature deepAmbiantTemperature;
	inline Step digMaxSteps;
	inline Priority digObjectivePriority;
	inline float digSkillModifier;
	inline float digStrengthModifier;
	inline Priority drinkPriority;
	inline Priority eatPriority;
	inline Priority equipPriority;
	inline Step exterminateCheckFrequency;
	inline Priority exterminatePriority;
	inline float fatPierceForceCost;
	inline float fireRampDownPhaseDurationFraction;
	inline float flankingModifier;
	inline uint16_t fluidGroupsPerThread;
	inline float forceAbsorbedPiercedModifier;
	inline float forceAbsorbedUnpiercedModifier;
	inline float fractionAttackCoolDownReductionPerPointOfDextarity;
	inline uint32_t getIntoAttackPositionMaxRange;
	inline Priority getToSafeTemperaturePriority;
	inline Step givePlantsFluidDelaySteps;
	inline Priority givePlantsFluidPriority;
	inline Priority goToPriority;
	inline MoveCost goUpMoveCost;
	inline Step harvestEventDuration;
	inline Priority harvestPriority;
	inline float heatDisipatesAtDistanceExponent;
	inline float heatFractionForBurn;
	inline float heatFractionForSmoulder;
	inline DistanceInBlocks heatDistanceMaximum;
	inline TemperatureDelta heatRadianceMinimum;
	inline uint32_t hitAreaToBodyPartVolumeRatioForFatalStrikeToVitalArea;
	inline uint32_t hitScaleModifier;
	inline uint8_t hitsToDivideActorFallDamageInto;
	inline uint32_t hoursPerDay;
	inline FullDisplacement impassibleItemVolume;
	inline Step installItemDuration;
	inline Priority installItemPriority;
	inline float itemQualityCombatModifier;
	inline float itemQualityModifier;
	inline float itemSkillModifier;
	inline float itemTypeCombatModifier;
	inline float itemTypeCombatScoreModifier;
	inline float itemWearCombatModifier;
	inline float itemWearModifier;
	inline Priority killPriority;
	inline uint32_t lakeDepthModifier;
	inline uint32_t lakeRadiusModifier;
	inline Step loadDelaySteps;
	inline float massCarryMaximimMovementRatio;
	inline uint32_t maxAnimalInsertLocationSearchRetries;
	inline CollisionVolume maxBlockVolume;
	inline DistanceInBlocks maxBlocksToLookForBetterFood;
	inline DistanceInBlocks maxDistanceToLookForEatingLocation;
	inline float maxDistanceVisionModifier;
	inline Quantity maxNumberOfWorkersForConstructionProject;
	inline Quantity maxNumberOfWorkersForDigProject;
	inline Quantity maxNumberOfWorkersForWoodCuttingProject;
	inline DistanceInBlocks maxRangeToSearchForCraftingRequirements;
	inline DistanceInBlocks maxRangeToSearchForStockPileItems;
	inline DistanceInBlocks maxRangeToSearchForStockPiles;
	inline DistanceInBlocks maxRangeToSearchForDigDesignations;
	inline DistanceInBlocks maxRangeToSearchForConstructionDesignations;
	inline DistanceInBlocks maxRangeToSearchForWoodCuttingDesignations;
	inline DistanceInBlocks maxRangeToSearchForHorticultureDesignations;
	inline DistanceInBlocks maxRangeToSearchForUniformEquipment;
	inline uint8_t maxSizeOfLongRangePathNode;
	inline uint32_t maxSkillLevel;
	inline Stamina maxStaminaPointsBase;
	inline Quantity maxWorkersForStockPileProject;
	inline DistanceInBlocks maxZLevelForDeepAmbiantTemperature;
	inline Step maximumDurationToWaitInsteadOfWander;
	inline float maximumRainIntensityModifier;
	inline uint32_t maximumSizeToCheckIfNewlyCreatedVisionCuboidsCanBeStolenFrom;
	inline Step maximumStepsBetweenRainPerPercentHumidity;
	inline Step maximumStepsRainPerPercentHumidity;
	inline Meters metersHeightCarvedByRivers;
	inline Meters metersPerUnitElevationLociiIntensity;
	inline Meters minimumAltitudeForHeadwaterFormation;
	inline float minimumAttackCoolDownModifier;
	inline Step minimumDurationToWaitInsteadOfWander;
	inline Speed minimumHaulSpeedInital;
	inline float minimumOverloadRatio;
	inline Percent minimumPercentFoliageForGrow;
	inline Percent minimumPercentGrowthForWoodCutting;
	inline float minimumRainIntensityModifier;
	inline CollisionVolume minBlockStaticVolumeToSlowMovement;
	inline Step minimumStepsBetweenRainPerPercentHumidity;
	inline Step minimumStepsRainPerPercentHumidity;
	inline uint16_t minimumSizeForOctTreeToSplit;
	inline uint16_t minimumOccupantsForOctTreeToSplit;
	inline uint16_t maximumOccupantsForOctTreeToMerge;
	inline uint32_t minimumSizeOfGroupOfMovingBlocksWhichSkipLineOfSightChecksForMakingVisionRequests;
	inline CollisionVolume minimumVolumeOfFluidToBreath;
	inline uint32_t minutesPerHour;
	inline uint32_t moveTryAttemptsBeforeDetour;
	inline float modifierToTurnMassTimesFallDistanceIntoForce;
	inline float musclePierceForceCost;
	inline uint8_t octTreeSortEntropyThreshold;
	//TODO: is this a duplicate?
	inline Priority objectivePrioiorityKill;
	inline Priority objectivePrioritySleep;
	inline uint8_t pathRequestsPerThread;
	inline float pathHuristicConstant;
	inline Percent percentHeightCarvedByRivers;
	// How hungry does an actor have to be to cross a hunger threshold and be willing to eat something less desirable?
	inline std::array<uint8_t, 3> minimumHungerLevelThresholds;
	inline Percent percentOfPlantMassWhichIsFoliage;
	inline Percent percentPermanantImparmentMinimum;
	inline uint32_t pierceBleedVoumeRateModifier;
	inline float pierceBoneModifier;
	inline float pierceFatModifier;
	inline float pierceModifier;
	inline float pierceMuscelModifier;
	inline uint32_t piercePercentPermanantImparmentModifier;
	inline uint32_t piercePercentTemporaryImparmentModifier;
	inline float pierceSkinModifier;
	inline uint32_t pierceStepsTillHealedModifier;
	inline uint8_t plantSortEntropyThreashold;
	inline float pointsOfCombatScorePerUnitOfAgility;
	inline float pointsOfCombatScorePerUnitOfDextarity;
	inline float pointsOfCombatScorePerUnitOfStrength;
	inline uint32_t projectTryToMakeSubprojectRetriesBeforeProjectDelay;
	inline Step projectDelayAfterExauhstingSubprojectRetries;
	inline uint32_t projectileHitChanceFallsOffWithRangeExponent;
	inline float projectileHitPercentPerPointAttackTypeCombatScore;
	inline float projectileHitPercentPerPointDextarity;
	inline float projectileHitPercentPerPointQuality;
	inline float projectileHitPercentPerPointTargetCombatScore;
	inline float projectileHitPercentPerPointWear;
	inline float projectileHitPercentPerSkillPoint;
	inline float projectileHitPercentPerUnitVolume;
	inline FullDisplacement projectileMedianTargetVolume;
	inline DistanceInBlocks rainMaximumOffset;
	inline DistanceInBlocks rainMaximumSpacing;
	inline Step rainWriteStepFreqency;
	inline float rateModifierForEvaporationPerDegreeTemperature;
	inline float ratioOfHitAreaToBodyPartVolumeForSever;
	inline float ratioOfTotalBodyVolumeWhichIsBlood;
	inline float ratioOfVisionCuboidSlotsToReservePerBlock;
	inline float ratioWoundsCloseDelayToBleedVolume;
	inline uint reserveSizeVisionCuboidAdjacent;
	inline Step restIntervalSteps;
	inline float rollingMassModifier;
	inline uint32_t scaleOfHumanBody;
	inline uint32_t secondsPerMinute;
	inline float skinPierceForceCost;
	inline Priority sleepObjectivePriority;
	inline Priority sowSeedsPriority;
	inline Step sowSeedsStepsDuration;
	inline uint32_t staminaPointsPerRestPeriod;
	inline Priority stationPriority;
	inline Step stepsFrequencyToLookForHaulSubprojects;
	inline Step stepsPerDay;
	inline Step stepsPerHour;
	inline Step stepsPerMinute;
	inline Step stepsPerSecond;
	inline Step stepsPerYear;
	inline Step stepsPerUnitFluidVolumeGivenToPlant;
	inline Step stepsTillDiePlantPriorityOveride;
	inline Step stepsToDelayBeforeTryingAgainToCompleteAnObjective;
	inline Step stepsToDelayBeforeTryingAgainToFollowLeader;
	inline Step stepsToDelayBeforeTryingAgainToReserveItemsAndActorsForAProject;
	inline Step stepsToDisableStockPile;
	inline Step stepsToDrink;
	inline Step stepsToEat;
	inline Priority stockPilePriority;
	inline Priority targetedHaulPriority;
	inline uint8_t threadedTaskBatchSize;
	inline uint32_t unarmedCombatScoreBase;
	inline float unarmedCombatSkillModifier;
	inline Temperature undergroundAmbiantTemperature;
	inline uint32_t unitsBodyMassPerUnitFluidConsumed;
	inline Mass unitsBodyMassPerUnitFoodConsumed;
	inline float unitsOfAttackForcePerUnitOfStrength;
	inline float unitsOfCarryMassPerUnitOfStrength;
	inline float unitsOfMoveSpeedPerUnitOfAgility;
	inline uint32_t unitsOfWoundAreaPerUnitItemScaleFactor;
	inline float unitsOfVolumePerUnitOfCollisionVolume;
	inline size_t visionRequestsReservationSize;
	inline uint16_t visionThreadingBatchSize;
	inline uint32_t wanderMaximumNumberOfBlocks;
	inline uint32_t wanderMinimimNumberOfBlocks;
	inline Step woodCuttingMaxSteps;
	inline Priority woodCuttingObjectivePriority;
	inline float woodCuttingSkillModifier;
	inline float woodCuttingStrengthModifier;
	inline Step yokeDelaySteps;

	inline uint32_t convertBodyPartVolumeToArea(FullDisplacement volume){ return sqrt(volume.get()); }
	void load();
}
